@using SAEON.Observations.QuerySite.Models
@model QueryModel
@(Html.EJ().Grid<object>("gridResults")
    .Datasource(ds => ds.URL("/Query/GetResultsGridData").Adaptor(AdaptorType.WebApiAdaptor))
    .AllowPaging()
    .AllowResizing()
    .AllowScrolling()
    .AllowSorting()
    .Columns(col =>
    {
        foreach (var s in Model.QueryResults.Series)
        {
            col.Field(s.ColumnName).HeaderText(s.Caption).Add();
        }
    })
)
@Html.EJ().ScriptManager()
